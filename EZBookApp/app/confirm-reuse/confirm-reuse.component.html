<ActionBar class="action-bar">
  <Label class="action-bar-title" text="Confirm Reuse" horizontalAlignment="center"></Label>
</ActionBar>

<GridLayout rows="*, auto" columns="*">
  <GridLayout row="0" col="0" rows="auto, *, 50" columns="*" *ngIf="this.submitReuseResultData.BookingOrder.BookingOrderCode">

    <StackLayout height="80" row="0" col="0" orientation="vertical" verticalAlignment="center" horizontalAlignment="center">
      <Label fontSize="12" text="Your order has been successfully processed." textWrap="false" verticalAlignment="center" horizontalAlignment="center"></Label>
      <StackLayout orientation="horizontal" verticalAlignment="center" horizontalAlignment="center">
        <Label class="font-weight-bold" color="#f8a61d" fontSize="12" text="Please Note: Bookings are valid through the end of the day."
          textWrap="true" verticalAlignment="center" horizontalAlignment="center"></Label>
      </StackLayout>
      <Label fontSize="12" text="If you have any questions, please contact Customer Support at" textWrap="true" verticalAlignment="center"
        horizontalAlignment="center"></Label>
      <Label fontSize="12" text="1-877-987-2226 option 2" textWrap="true" verticalAlignment="center" horizontalAlignment="center"></Label>
    </StackLayout>

    <GridLayout row="1" col="0" rows="auto,auto,*" columns="*">

      <GridLayout row="0" col="0" rows="auto,auto,auto,auto" columns="*" backgroundColor="#efefef">

        <GridLayout row="0" col="0" rows="*" columns="*" height="40" class="" orientation="horizontal" color="white" [backgroundColor]="this.accentColor">
          <Label class="p-l-10 font-weight-bold" row="0" col="0" [text]="'Reuse Order # '+ this.submitReuseResultData.BookingOrder.BookingOrderCode"
            textWrap="true" horizontalAlignment="left"></Label>
        </GridLayout>

        <GridLayout row="1" col="0" rows="*" columns="auto,*" orientation="horizontal" backgroundColor="white">
          <Label class="p-l-10 font-weight-bold" row="0" col="0" text="Responsible Party: " textWrap="false" horizontalAlignment="left"></Label>
          <Label class="" row="0" col="1" [text]="this.responsiblePartyName" textWrap="true" horizontalAlignment="left"></Label>
        </GridLayout>

        <GridLayout row="2" col="0" rows="*" columns="auto,*" orientation="horizontal" backgroundColor="white">
          <Label class="p-l-10 font-weight-bold" row="0" col="0" text="Motor Carrier:" textWrap="false" horizontalAlignment="left"></Label>
          <Label class="p-l-10" row="0" col="1" [text]="this.motorCarrierName" textWrap="true" horizontalAlignment="left"></Label>
        </GridLayout>

        <GridLayout row="3" col="0" rows="*" columns="auto,*" backgroundColor="white">
          <Label class="p-l-10 font-weight-bold" row="0" col="0" text="Comments:" textWrap="false" horizontalAlignment="left"></Label>
          <Label class="p-l-10" row="0" col="1" [text]="this.submitReuseResultData.BookingOrder.BookingOrderComment ? this.submitReuseResultData.BookingOrder.BookingOrderComment : ''"
            textWrap="true" horizontalAlignment="left"></Label>
        </GridLayout>

      </GridLayout>


      <RadListView *ngIf="this.bookingVMs.length > 0" row="1" col="0" rowSpan="3" #bookingVMListView [items]="this.bookingVMs"
        (itemTap)="onOrderItemTap($event)" class="" selectionBehavior="None" separatorColor="#efefef" swipeActions="false">
        <ng-template tkListItemTemplate let-unit="item" let-index="index">
          <StackLayout class="list-group-item">

            <GridLayout *ngIf="index == 0" row="1" col="0" rows="*" columns="*" height="40" class="" orientation="horizontal" color="white"
              [backgroundColor]="this.accentColor">
              <Label class="p-l-10 font-weight-bold" row="0" col="0" text="Confirmed Booking(s)" textWrap="true" horizontalAlignment="left"></Label>
            </GridLayout>

            <GridLayout row="0" col="0" colSpan="3" rows="*" columns="*" height="40" class="font-weight-bold" orientation="horizontal"
              backgroundColor="#e6ecf2">
              <Label class="p-l-10" row="0" col="0" [text]="'Booking Number: '+ unit.CustomerBookingCode" textWrap="false" horizontalAlignment="center"></Label>
            </GridLayout>
            <GridLayout rows="*, *, *" columns="*, *, *" class="list-group-item-content">

              <Label row="0" col="0" colSpan="5" [text]="unit.LocationName" class="text-primary font-weight-bold p-b-10"></Label>
              <Label horizontalAlignment="right" class="list-group-item-text m-r-5">
              </Label>

              <StackLayout row="1" col="0" colSpan="3" verticalAlignment="center">
                <Label class="p-b-10 text-primary" [text]="unit.LocationStreet1 + ' ' + unit.LocationCity + ', ' + unit.LocationStateProvince"
                  color="gray"></Label>
                <Label class="p-b-10 text-primary" textWrap="true" [text]="'Hours: ' + unit.LocationOperatingHours" color="gray"></Label>
              </StackLayout>

              <!-- <StackLayout row="2" col="0" colSpan="3" *ngFor="let details of unit.CustomerBookingDetails">
                <StackLayout row="2" col="0" colSpan="1" verticalAlignment="center" orientation="horizontal">
                  <Label col="1" colSpan="1" [text]="getChassisEquipmentString(unit.EquipmentClass)" class="font-weight-bold" color="gray"></Label>
                </StackLayout>

                <StackLayout row="2" col="1" colSpan="1" verticalAlignment="center" horizontalAlignment="center" orientation="horizontal">
                  <Label class="font-weight-bold" fontSize="14" [text]="details.ChassisId" color="gray"></Label>
                </StackLayout>

                <StackLayout row="2" col="2" colSpan="1" verticalAlignment="center" horizontalAlignment="center" orientation="horizontal">
                  <Label fontSize="14" [text]="unit.InventoryOrgCode" readOnly="true" color="gray"></Label>
                </StackLayout>
              </StackLayout> -->

              <StackLayout row="2" col="0" colSpan="3">
                <StackLayout row="2" col="0" colSpan="1" verticalAlignment="center" orientation="horizontal">
                  <Label col="1" colSpan="1" [text]="getChassisEquipmentString(unit.EquipmentClass)" class="font-weight-bold" color="gray"></Label>
                </StackLayout>

                <StackLayout row="2" col="1" colSpan="1" verticalAlignment="center" horizontalAlignment="center" orientation="horizontal">
                  <Label class="font-weight-bold" fontSize="14" [text]="unit.CustomerBookingDetails[0].ChassisId" color="gray"></Label>
                </StackLayout>

                <StackLayout row="2" col="2" colSpan="1" verticalAlignment="center" horizontalAlignment="center" orientation="horizontal">
                  <Label fontSize="14" [text]="unit.InventoryOrgCode" readOnly="true" color="gray"></Label>
                </StackLayout>
              </StackLayout>


            </GridLayout>
          </StackLayout>
        </ng-template>
      </RadListView>


      <RadListView *ngIf="this.submitReuseResultData.PendingDetails.length > 0" #pendingVMListView row="2" col="0" rowSpan="3"
        [items]="this.submitReuseResultData.PendingDetails" (itemTap)="onOrderItemTap($event)" class="" selectionBehavior="None"
        separatorColor="white" swipeActions="false">
        <ng-template tkListItemTemplate let-unit="item" let-index="index">
          <StackLayout class="list-group-item">

            <GridLayout *ngIf="index == 0" row="1" col="0" rows="*" columns="*" height="40" class="" orientation="horizontal" color="white"
              [backgroundColor]="this.accentColor">
              <Label class="p-l-10 font-weight-bold" row="0" col="0" text="Pending Booking(s)" textWrap="true" horizontalAlignment="left"></Label>
            </GridLayout>

            <GridLayout row="0" col="0" colSpan="3" rows="*" columns="*" height="40" class="font-weight-bold" orientation="horizontal"
              backgroundColor="#e6ecf2">
              <Label class="p-l-10"  row="0" col="0" [text]="'Booking Number: Pending'" textWrap="false" horizontalAlignment="left"></Label>
            </GridLayout>
            <GridLayout rows="*, *, *" columns="*, *, *" class="list-group-item-content p-l-5">

              <Label row="0" col="0" colSpan="5" [text]="unit.LocationName" class="text-primary font-weight-bold p-b-10"></Label>
              <Label horizontalAlignment="right" class="list-group-item-text m-r-5">
              </Label>

              <StackLayout row="1" col="0" colSpan="3" verticalAlignment="center">
                <Label class="p-b-10 text-primary" [text]="unit.LocationStreet1 + ' ' + unit.LocationCity + ', ' + unit.LocationStateProvince"
                  color="gray"></Label>
                <Label class="p-b-10 text-primary" textWrap="true" [text]="'Hours: ' + unit.LocationOperatingHours" color="gray"></Label>
              </StackLayout>

              <StackLayout row="2" col="0" colSpan="1" verticalAlignment="center" orientation="horizontal">
                <Label class="font-weight-bold" [text]="getChassisEquipmentString(unit.EquipmentSize)" color="gray"></Label>
              </StackLayout>

              <StackLayout row="2" col="1" colSpan="1" verticalAlignment="center" horizontalAlignment="center" orientation="horizontal">
                <Label class="font-weight-bold" fontSize="14" [text]="unit.ChassisId" color="gray"></Label>
              </StackLayout>

              <StackLayout row="2" col="2" colSpan="1" verticalAlignment="center" horizontalAlignment="center" orientation="horizontal">
                <Label class="font-weight-bold" fontSize="14" [text]="unit.InventoryOrgCode" color="gray"></Label>
              </StackLayout>

            </GridLayout>
          </StackLayout>
        </ng-template>
      </RadListView>

    </GridLayout>


    <GridLayout columns="*,*" rows="*" row="2" col="0" height="50" orientation="horizontal" horizontalAlignment="center" verticalAlignment="center">
      <Button android:style="height:60;" textTransform="none" row="0" col="0" class="btn btn-primary" text="Create New Reuse" (tap)="onCreateNewReuse()" verticalAlignment="center"
        horizontalAlignment="stretch"></Button>
      <Button android:style="height:60;" textTransform="none" row="0" col="1" class="btn btn-primary" text="View Orders" (tap)="onViewOrders()" verticalAlignment="center" horizontalAlignment="stretch"></Button>
    </GridLayout>
  </GridLayout>

  <GridLayout [visibility]="this.showPendingMessage ? 'visible' : 'collapsed'" rows="*" columns="*" row="0" col="0">
    <Button row="0" col="1" class="btn btn-primary" text="Back to Orders" (tap)="onViewOrders()" verticalAlignment="center" horizontalAlignment="stretch"></Button>
  </GridLayout>

  <ActivityIndicator verticalAlignment="center" horizontalAlignment="center" [busy]="isLoading"></ActivityIndicator>
</GridLayout>